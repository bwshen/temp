!function(e,t,r,a,o){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="function"==typeof s[a]&&s[a],l=n.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!l[t]){if(!e[t]){var o="function"==typeof s[a]&&s[a];if(!r&&o)return o(t,!0);if(n)return n(t,!0);if(u&&"string"==typeof t)return u(t);var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}p.resolve=function(r){var a=e[t][1][r];return null!=a?a:r},p.cache={};var c=l[t]=new d.Module(t);e[t][0].call(c.exports,p,c,c.exports,this)}return l[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=l,d.parent=n,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return s[a]}}),s[a]=d;for(var i=0;i<t.length;i++)d(t[i])}({hgIYI:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",()=>_);var o=e("react/jsx-runtime"),s=e("react"),n=e("react-relay"),l=e("react-router-dom"),u=e("graphql/__generated__/NFTsQuery.graphql"),d=a.interopDefault(u),i=e("components/ErrorBoundaries/PageErrorBoundary"),c=a.interopDefault(i),p=e("constants/Utils"),f=e("errors/FourOFourError"),m=a.interopDefault(f),h=e("hooks/product/useProductOwnership"),g=a.interopDefault(h),x=e("hooks/product/useProductTimers"),y=a.interopDefault(x),j=e("pages/product/aboutArtists"),D=a.interopDefault(j),C=e("pages/product/ProductAuthorDetails"),P=a.interopDefault(C),b=e("pages/product/ProductDescription"),S=a.interopDefault(b),v=e("pages/product/productLabels"),T=a.interopDefault(v),w=e("pages/product/ProductLayout"),A=a.interopDefault(w),O=e("pages/product/ProductLayoutContainer"),k=a.interopDefault(O),F=e("pages/product/ProductTitle"),M=a.interopDefault(F),N=e("utils/generateTitleText"),R=a.interopDefault(N),q=e("utils/hocs/withLoadQuery"),E=a.interopDefault(q),I=e("utils/setDocTitle"),U=a.interopDefault(I),W=e("./SendAction"),B=a.interopDefault(W);let L=(0,E.default)(({nftsQuery:{queryRef:e}})=>{let{nfts:t}=(0,n.usePreloadedQuery)(d.default,e),r=t.edges.length>0?t.edges[0].node:null,a=(0,g.default)({nft:r}),{showRankedAuctionTimer:l,showProductAuctionTimer:u,showDropsTimer:i,onProductTimerEnd:c}=(0,y.default)(r);if((0,s.useEffect)(()=>{r?.metadata?.title&&(0,U.default)(`Send ${(0,R.default)(r)} | ${p.APP_NAME}`)},[r,r?.metadata?.title]),!r||!a)throw new m.default;return(0,o.jsx)(k.default,{children:(0,o.jsx)(A.default,{nftMetadata:r.metadata,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(M.default,{title:(0,R.default)(r)}),(0,o.jsx)(P.default,{author:r.metadata.author,collaborators:r.metadata.collaborators,collection:r.metadata.nftCollection}),(0,o.jsx)(T.default,{nft:r,showDropsTimer:i,showProductAuctionTimer:u,showRankedAuctionTimer:l,onProductTimerEnd:c,children:(0,o.jsx)(B.default,{nft:r})}),(0,o.jsx)(D.default,{author:r.metadata.author,collaborators:r.metadata.collaborators}),(0,o.jsx)(S.default,{title:"Description",description:r.metadata.description,collapsible:!1,videoUrl:r.metadata.descriptionVideoUrl,videoPreviewImageUrl:r.metadata.descriptionImageUrl})]})})})},{nftsQuery:{concreteRequest:d.default}});function _(){let{nftSlug:e}=(0,l.useParams)();return(0,o.jsx)(c.default,{children:(0,o.jsx)(L,{nftsQuery:{variables:{first:1,productSlug:e}}})})}},{"react/jsx-runtime":"dAtyg",react:"aUO8W","react-relay":"yZlBg","react-router-dom":"gGaRm","graphql/__generated__/NFTsQuery.graphql":"8CCzD","components/ErrorBoundaries/PageErrorBoundary":"2HR2h","constants/Utils":"8Rx9u","errors/FourOFourError":"hTvVd","hooks/product/useProductOwnership":"jfI8M","hooks/product/useProductTimers":"fNe6H","pages/product/aboutArtists":"e1u5D","pages/product/ProductAuthorDetails":"3RUWU","pages/product/ProductDescription":"gzUj2","pages/product/productLabels":"27QWG","pages/product/ProductLayout":"960t1","pages/product/ProductLayoutContainer":"kjQer","pages/product/ProductTitle":"9nXJT","utils/generateTitleText":"go1xh","utils/hocs/withLoadQuery":"1mYad","utils/setDocTitle":"e2EM3","./SendAction":"ecrpO","@parcel/transformer-js/src/esmodule-helpers.js":"4ZCo7"}],ecrpO:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",()=>D);var o=e("react/jsx-runtime"),s=e("react"),n=e("@mp-frontend/core-components"),l=e("@mp-frontend/core-utils"),u=e("components/dialogs/CongratulationDialog"),d=a.interopDefault(u),i=e("components/LoginRequiredButton"),c=a.interopDefault(i),p=e("types/enums/css/Gap"),f=a.interopDefault(p),m=e("types/enums/css/Global"),h=a.interopDefault(m),g=e("types/enums/css/Margin"),x=a.interopDefault(g),y=e("./SendDialog"),j=a.interopDefault(y);function D({nft:e}){let[t,r]=(0,s.useState)(!1),[a,u]=(0,s.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[!!t&&(0,o.jsx)(j.default,{nft:e,onClose:()=>r(!1),onCompleted:e=>{r(!1),u(e)}}),!!a&&(0,o.jsx)(d.default,{open:!0,title:null,onClose:()=>u(null),children:(0,o.jsxs)("div",{className:(0,l.joinClasses)(h.default.Flex.CenteredCol,f.default[32],h.default.Cursor.Default),children:[(0,o.jsx)("div",{className:(0,l.joinClasses)("centerText",n.MPFonts.headline3),children:"Congratulations"}),(0,o.jsx)("div",{className:(0,l.joinClasses)("centerText",n.MPFonts.textNormalMedium,n.MPColorClass.SolidNeutralGray5),style:{maxWidth:"250px"},children:"This artwork was sent to the recipient's address successfully."}),(0,o.jsx)(n.MPActionButton,{className:x.default.TOP[32],size:"large",sx:{minWidth:"235px"},onClick:()=>u(null),children:"Continue"})]})}),(0,o.jsx)(c.default,{className:x.default.BOTTOM[32],onClick:()=>r(!0),size:"large",children:"Send"})]})}},{"react/jsx-runtime":"dAtyg",react:"aUO8W","@mp-frontend/core-components":"fKHhM","@mp-frontend/core-utils":"aSZdq","components/dialogs/CongratulationDialog":"4S0Pu","components/LoginRequiredButton":"cUDCy","types/enums/css/Gap":"7WqyU","types/enums/css/Global":"iwgmB","types/enums/css/Margin":"1lqKR","./SendDialog":"cGx1V","@parcel/transformer-js/src/esmodule-helpers.js":"4ZCo7"}],cGx1V:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",()=>A);var o=e("react/jsx-runtime"),s=e("react"),n=e("ethers"),l=e("react-router-dom"),u=e("@mp-frontend/core-components"),d=e("@mp-frontend/core-utils"),i=e("components/dialogs/StandardDialog"),c=a.interopDefault(i),p=e("components/WalletActionButton"),f=a.interopDefault(p),m=e("constants/Routes"),h=a.interopDefault(m),g=e("hooks/contracts/useTokenContract"),x=a.interopDefault(g),y=e("hooks/product/usePaymentFormState"),j=e("pages/product/ProductPendingOnChain"),D=a.interopDefault(j),C=e("pages/product/purchaseOfferDialog/WalletConnection"),P=a.interopDefault(C),b=e("types/enums/css/Gap"),S=a.interopDefault(b),v=e("types/enums/css/Global"),T=a.interopDefault(v),w=e("utils/areSameAddress");function A({nft:e,onClose:t,onCompleted:r}){let[a,i]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[g,j]=(0,s.useState)(""),[C,b]=(0,s.useState)(""),[v,A]=(0,s.useState)(""),[O,k]=(0,s.useState)(!1),[F,M]=(0,s.useState)(""),N=(0,y.useWalletConnectionState)(),R=(0,s.useRef)(),{useSafeTransferFrom:q}=(0,x.default)({abi:JSON.parse(e.contract.abidata).abi,contractAddress:e.contract.address}),E=q({fromAddress:e.currentOwnerAddress,toAddress:R.current,tokenId:parseInt(e.onchainId,10)}),I=(0,s.useCallback)(t=>{let r=t.target.value.trim(),a="";r?(0,n.ethers).utils.isAddress(r)?(0,w.areSameAddress)(r,e.currentOwnerAddress)&&(a="You cannot send to yourself"):a="Invalid wallet address":a="Wallet address is required",m(a),i(r),a||(R.current=r)},[e.currentOwnerAddress]),U=(0,s.useCallback)(e=>{let t=e.target.value.trim(),r="";t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(r="Invalid email address"),b(r),j(e.target.value)},[]),W=(0,s.useCallback)(async()=>{try{k(!0);let e=await E.mutate.writeAsync();M(e)}catch(e){}k(!1)},[E.mutate.writeAsync]);return(0,o.jsx)(c.default,{title:"Send Artwork",actionButton:F?null:(0,o.jsx)(f.default,{disabled:!!(!a||p||C||O),size:"large",onClick:W,children:"Send"}),onClose:t,children:F?(0,o.jsx)(D.default,{queryVariables:{txtId:F},onSuccess:()=>r(F)}):N.isConnected?(0,o.jsxs)("div",{className:(0,d.joinClasses)(T.default.Flex.Col,T.default.Cursor.Default,S.default[24]),children:[(0,o.jsxs)("div",{className:(0,d.joinClasses)(T.default.Flex.Col,S.default[16]),children:[(0,o.jsx)(u.MPStyledTextField,{label:"Recipient's wallet address",placeholder:"Wallet address",value:a,error:p,onChange:I}),(0,o.jsx)(u.MPStyledTextField,{label:"Recipient's email address",placeholder:"Email address (optional)",value:g,error:C,className:T.default.Hidden,onChange:U}),(0,o.jsx)(u.MPStyledTextField,{label:"Your message to recipient",placeholder:"Let the recipient know when they receive your creation by including a message in your email (optional)",value:v,onChange:e=>A(e.target.value),type:"text",minRows:5,className:T.default.Hidden})]}),(0,o.jsx)(u.MPDivider,{}),(0,o.jsxs)("div",{className:u.MPFonts.paragraphSmall,children:["Send to any Ethereum digital wallet address."," ",(0,o.jsx)(l.Link,{to:(0,h.default).FAQ.HOW_TO_SEND_CREATION(),reloadDocument:!0,target:"_blank",className:"defaultLink",children:"Learn more about how to send."})]})]}):(0,o.jsx)(P.default,{})})}},{"react/jsx-runtime":"dAtyg",react:"aUO8W",ethers:"cKrQc","react-router-dom":"gGaRm","@mp-frontend/core-components":"fKHhM","@mp-frontend/core-utils":"aSZdq","components/dialogs/StandardDialog":"gaInT","components/WalletActionButton":"9CK9I","constants/Routes":"hp1p9","hooks/contracts/useTokenContract":"ipCjA","hooks/product/usePaymentFormState":"8BEPs","pages/product/ProductPendingOnChain":"8Ej8b","pages/product/purchaseOfferDialog/WalletConnection":"hs4kb","types/enums/css/Gap":"7WqyU","types/enums/css/Global":"iwgmB","utils/areSameAddress":"dQyeO","@parcel/transformer-js/src/esmodule-helpers.js":"4ZCo7"}]},[],0,"parcelRequire26b5");
//# sourceMappingURL=SendPage.c71dd9d1.js.map
